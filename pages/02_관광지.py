# app.py
import streamlit as st
from streamlit_folium import st_folium
import folium

st.set_page_config(page_title="서울 여행 추천 지도", layout="wide")

# ------------------ 제목 ------------------
st.title("🇰🇷 외국인이 사랑하는 서울 관광지 Top 10")
st.markdown(
    """
    서울을 처음 방문하는 사람들에게 추천하는 대표 관광 명소 💗  
    지도에서 마커를 클릭하면 간단한 설명과 가까운 전철역 정보를 볼 수 있어요!
    """,
    unsafe_allow_html=True,
)

# ------------------ 관광지 데이터 ------------------
places = [
    {
        "name": "경복궁",
        "coords": (37.579617, 126.977041),
        "desc": "조선의 대표 궁궐로, 한복을 입고 사진 찍기 좋은 명소예요 👑",
        "subway": "🚇 3호선 경복궁역",
    },
    {
        "name": "창덕궁",
        "coords": (37.582600, 126.991000),
        "desc": "유네스코 세계문화유산으로 지정된 고궁이에요. 후원(비원)이 특히 유명해요 🍃",
        "subway": "🚇 3호선 안국역",
    },
    {
        "name": "북촌한옥마을",
        "coords": (37.582542, 126.983047),
        "desc": "전통 한옥이 모여 있는 아름다운 골목길로, 한복 체험도 가능해요 🏠",
        "subway": "🚇 3호선 안국역",
    },
    {
        "name": "인사동",
        "coords": (37.576540, 126.985120),
        "desc": "전통 찻집과 공예품 상점이 모여 있는 한국적인 거리 🎎",
        "subway": "🚇 3호선 안국역",
    },
    {
        "name": "명동",
        "coords": (37.560988, 126.985385),
        "desc": "쇼핑과 길거리 음식으로 유명한 활기찬 거리 🛍️",
        "subway": "🚇 4호선 명동역",
    },
    {
        "name": "N서울타워 (남산타워)",
        "coords": (37.551169, 126.988227),
        "desc": "서울의 전경을 한눈에 볼 수 있는 전망 명소 🌃",
        "subway": "🚇 4호선 명동역",
    },
    {
        "name": "동대문디자인플라자 (DDP)",
        "coords": (37.566295, 127.009356),
        "desc": "디자인, 전시, 야시장 등 현대적인 서울의 상징 ✨",
        "subway": "🚇 2·4·5호선 동대문역사문화공원역",
    },
    {
        "name": "홍대",
        "coords": (37.556264, 126.923965),
        "desc": "젊음의 거리! 버스킹과 예술적인 분위기가 가득해요 🎸",
        "subway": "🚇 2호선 홍대입구역",
    },
    {
        "name": "광장시장",
        "coords": (37.570375, 126.999186),
        "desc": "빈대떡, 마약김밥 등 한국 전통 먹거리의 천국 🍢",
        "subway": "🚇 1호선 종로5가역",
    },
    {
        "name": "코엑스·스타필드 도서관",
        "coords": (37.512050, 127.058647),
        "desc": "대형 쇼핑몰과 인스타 감성 도서관이 함께 있는 명소 📚",
        "subway": "🚇 2호선 삼성역",
    },
]

# ------------------ 지도 ------------------
center = [37.5665, 126.9780]
m = folium.Map(location=center, zoom_start=12, tiles="OpenStreetMap")

for p in places:
    popup_html = f"""
    <b>{p['name']}</b><br>
    {p['desc']}<br>
    {p['subway']}
    """
    folium.Marker(
        location=p["coords"],
        popup=popup_html,
        tooltip=p["name"],
        icon=folium.Icon(color="pink", icon="info-sign"),
    ).add_to(m)

st_folium(m, width=630, height=420)

# ------------------ 관광지 요약 ------------------
st.markdown("### 📍 관광지 요약")
for i, p in enumerate(places, start=1):
    st.write(f"{i}. **{p['name']}** — {p['desc']} ({p['subway']})")

# ------------------ 일정 추천 ------------------
st.markdown("---")
st.markdown("## 🗓️ 나만의 서울 여행 일정 만들기")

day = st.selectbox("여행 일수를 선택하세요 👇", ["1일차", "2일차", "3일차"])

if day == "1일차":
    st.success("✨ 1일차 일정 (전통 & 중심지 여행 루트)")
    st.write("""
    **오전** ☀️  
    - 경복궁 → 북촌한옥마을 → 인사동  
    - 전통 문화 체험과 한복 사진 📸  
    
    **점심 🍱**  
    - 인사동 골목 내 전통 한식집 ‘오세계향’ 추천  
    
    **오후 🌇**  
    - 명동 쇼핑거리 → 남산 케이블카 → N서울타워 전망대  
    
    **저녁 🍜**  
    - 명동 교자나 부탄식당에서 따뜻한 식사  
    
    **야간 🌃**  
    - N서울타워 야경 감상 후 숙소 귀가  
    """)

elif day == "2일차":
    st.success("✨ 2일차 일정 (현대적 서울 & 쇼핑 루트)")
    st.write("""
    **오전** ☀️  
    - 동대문디자인플라자(DDP) 관람 → 광장시장 구경  
    
    **점심 🍱**  
    - 광장시장에서 빈대떡 & 마약김밥 점심  
    
    **오후 🌇**  
    - 명동 거리 쇼핑 → 코엑스 스타필드 도서관 방문  
    
    **저녁 🍜**  
    - 삼성역 근처 한식 뷔페 or 비빔밥 전문점  
    
    **야간 🌃**  
    - 코엑스 주변 야경 산책  
    """)

else:
    st.success("✨ 3일차 일정 (예술과 젊음의 거리 루트)")
    st.write("""
    **오전** ☀️  
    - 창덕궁 → 경복궁 재방문 또는 한복체험  
    
    **점심 🍱**  
    - 북촌 카페거리에서 한식 브런치  
    
    **오후 🌇**  
    - 홍대 거리 산책, 플리마켓 & 버스킹 관람  
    
    **저녁 🍜**  
    - 홍대입구역 주변 맛집 ‘연남서식당’ 추천  
    
    **야간 🌃**  
    - 홍대 클럽거리 또는 공연 카페 탐방  
    """)

st.markdown("---")
st.caption("🗺️ 데이터 출처: TripAdvisor, VisitSeoul, Lonely Planet / 앱 목적: 관광 정보 제공용")
